<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text-Image Retrieval</title>
    <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
    <link rel="stylesheet" as="style" onload="this.rel='stylesheet'"
        href="https://fonts.googleapis.com/css2?display=swap&amp;family=Noto+Sans%3Awght%40400%3B500%3B700%3B900&amp;family=Work+Sans%3Awght%40400%3B500%3B700%3B900" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link rel="stylesheet" href="{{ url_for('static', path='/css/style.css') }}">
</head>

<body class="bg-gradient-to-r from-purple-100 to-pink-100 flex items-center justify-center min-h-screen">
    <div class="flex flex-col items-center justify-center w-full max-w-2xl px-4 pb-[15rem]">
        <div class="flex items-center justify-center w-full p-4 pb-2">
            <h2 class="text-indigo-800 text-2xl font-bold leading-tight tracking-[-0.015em] text-center">
                Image Search
            </h2>
        </div>
        <div class="search-container w-full">
            <div class="px-4 py-3 flex justify-center gap-4">
                <button onclick="toggleSearchBar()"
                    class="btn bg-gradient-to-r from-blue-500 to-indigo-500 text-white px-6 py-3 rounded-lg font-semibold">Search
                    by Text</button>
                <button onclick="toggleImageUpload()"
                    class="btn bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-3 rounded-lg font-semibold">Search
                    by Image</button>
            </div>
            <div id="search-bar" class="w-full px-4 py-3">
                <form onsubmit="handleSearch(event)" class="w-full max-w-md mx-auto">
                    <label class="flex flex-col w-full">
                        <div class="flex w-full items-stretch rounded-xl h-full">
                            <div class="text-indigo-600 flex border-none bg-white items-center justify-center pl-4 rounded-l-xl border-r-0"
                                data-icon="MagnifyingGlass" data-size="24px" data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z">
                                    </path>
                                </svg>
                            </div>
                            <input id="search-input" placeholder="Search for images"
                                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-indigo-800 focus:outline-0 focus:ring-0 border-none bg-white focus:border-none h-full placeholder:text-indigo-400 px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"
                                value="" required />
                        </div>
                    </label>
                </form>
            </div>
            <div id="image-upload" class="w-full px-4 py-3 image-upload-container">
                <form id="image-upload-form" class="w-full max-w-md mx-auto">
                    <label class="flex flex-col w-full">
                        <div class="flex w-full items-stretch rounded-xl h-full">
                            <div class="text-rose-600 flex border-none bg-white items-center justify-center pl-4 rounded-l-xl border-r-0"
                                data-icon="ImageUpload" data-size="24px" data-weight="regular">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" fill="currentColor"
                                    viewBox="0 0 256 256">
                                    <path
                                        d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM48,208V48H208V208ZM80,80A12,12,0,1,1,92,92,12,12,0,0,1,80,80Zm118.4,99.9-40-56a8.2,8.2,0,0,0-13.1-.5L112,165.1,91.7,137.3a8.2,8.2,0,0,0-13.4,0l-24,36A8,8,0,0,0,61,184H195a8,8,0,0,0,3.4-15.1Z">
                                    </path>
                                </svg>
                            </div>
                            <input type="file" id="image-input" accept="image/*"
                                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-xl text-rose-800 focus:outline-0 focus:ring-0 border-none bg-white focus:border-none h-full placeholder:text-rose-400 px-4 rounded-l-none border-l-0 pl-2 text-base font-normal leading-normal"
                                required />
                        </div>
                    </label>
                    <button type="submit"
                        class="mt-2 btn bg-gradient-to-r from-pink-500 to-rose-500 text-white px-6 py-3 rounded-lg font-semibold w-full">
                        Upload and Search
                    </button>
                </form>
            </div>
        </div>
        <div id="gallery-section" class="w-full-gallery">
            <h3 class="text-indigo-800 text-xl font-bold leading-tight tracking-[-0.015em] px-4 pb-2 pt-4 text-center">
                Image Gallery
            </h3>
            <div id="gallery-container" class="border-4 border-indigo-300 rounded-xl p-6 bg-white shadow-lg">
                <div id="gallery" class="gallery">
                    <!-- Images will be displayed here -->
                </div>
            </div>
        </div>
    </div>
    <script src="app/frontend/static/js/script.js"></script>
</body>

</html>